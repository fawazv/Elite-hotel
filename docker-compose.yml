services:
  rabbitmq:
    image: rabbitmq:3-management
    container_name: rabbitmq
    ports:
      - '5672:5672'
      - '15672:15672'

  gateway:
    image: fawaz482/elite-gateway:latest
    env_file:
      - ./backend/api-gateway/.env
    container_name: api-gateway
    ports:
      - '4000:4000'
    depends_on:
      - rabbitmq
      - auth-service
      - room-service
      - user-service
      - guest-service
      - reservation-service

  auth-service:
    image: fawaz482/elite-auth:latest
    env_file:
      - ./backend/services/authService/.env
    container_name: elite-auth
    ports:
      - '4001:4001'
    depends_on:
      - rabbitmq

  room-service:
    image: fawaz482/elite-room:latest
    env_file:
      - ./backend/services/roomService/.env
    container_name: elite-room
    ports:
      - '4003:4003'
    depends_on:
      - rabbitmq

  user-service:
    image: fawaz482/elite-user:latest
    env_file:
      - ./backend/services/userService/.env
    container_name: elite-user
    ports:
      - '4002:4002'
    depends_on:
      - rabbitmq

  guest-service:
    image: fawaz482/elite-guest:latest
    env_file:
      - ./backend/services/guestService/.env
    container_name: elite-guest
    ports:
      - '4004:4004'
    depends_on:
      - rabbitmq

  reservation-service:
    image: fawaz482/elite-reservation:latest
    env_file:
      - ./backend/services/reservationtService/.env
    container_name: elite-reservation
    ports:
      - '4005:4005'
    depends_on:
      - rabbitmq
